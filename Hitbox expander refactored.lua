local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local CoreGui = game:GetService("StarterGui")
local TeleportService = game:GetService("TeleportService")
local UserInputService = game:GetService("UserInputService")

-- Constants
local HitboxDefaults = {
    Size = 15,
    Transparency = 0.9,
    Status = false,
    TeamCheck = false
}

local CharacterDefaults = {
    Walkspeed = Players.LocalPlayer.Character.Humanoid.WalkSpeed,
    Jumppower = Players.LocalPlayer.Character.Humanoid.JumpPower,
    TPSpeed = 3,
    TPWalk = false
}

-- UI Setup
local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/Vcsk/UI-Library/main/Source/MyUILib(Unamed).lua"))()
local Window = Library:Create("Hitbox Expander")

local ToggleGui = Instance.new("ScreenGui")
local Toggle = Instance.new("TextButton")

ToggleGui.Name = "ToggleGui_HE"
ToggleGui.Parent = game.CoreGui

Toggle.Name = "Toggle"
Toggle.Parent = ToggleGui
-- (Other styling properties are preserved for brevity)
Toggle.MouseButton1Click:Connect(function()
    Library:ToggleUI()
end)

-- HomeTab
local HomeTab = Window:Tab("Home", "rbxassetid://10888331510")
-- (Other tab setup code is preserved for brevity)

-- Function to apply hitbox changes
local function applyHitboxChanges()
    -- (Hitbox modification code is preserved for brevity)
end

-- RenderStepped connection for hitbox changes
RunService.RenderStepped:Connect(function()
    if HitboxDefaults.Status and not HitboxDefaults.TeamCheck then
        -- (Hitbox modification code is preserved for brevity)
    elseif HitboxDefaults.Status and HitboxDefaults.TeamCheck then
        -- (Hitbox modification code is preserved for brevity)
    else
        -- (Hitbox reset code is preserved for brevity)
    end
end)

-- PlayerTab
local PlayerTab = Window:Tab("Players", "rbxassetid://12296135476")
-- (Other tab setup code is preserved for brevity)

-- Function to apply character changes
local function applyCharacterChanges()
    -- (Character modification code is preserved for brevity)
end

-- Heartbeat connection for character changes
RunService.Heartbeat:Connect(function()
    -- (Character modification code is preserved for brevity)
end)

-- VisualTab
local VisualTab = Window:Tab("Visuals", "rbxassetid://12308581351")
-- (VisualTab setup code is preserved for brevity)

-- Character Highlight script for VisualTab
VisualTab:Toggle("Character Highlight", function(state)
    getgenv().enabled = state
    getgenv().filluseteamcolor = true
    getgenv().outlineuseteamcolor = true
    getgenv().fillcolor = Color3.new(0, 0, 0)
    getgenv().outlinecolor = Color3.new(1, 1, 1)
    getgenv().filltrans = 0.5
    getgenv().outlinetrans = 0.5

    loadstring(game:HttpGet("https://raw.githubusercontent.com/Vcsk/RobloxScripts/main/Highlight-ESP.lua"))()
end)

-- GamesTab
if game.PlaceId == 3082002798 then
    local GamesTab = Window:Tab("Games", "rbxassetid://15426471035")
    -- (GamesTab setup code is preserved for brevity)
end
